{% extends 'dashboard/layouts/form_layout.html' %}

{% block title %}
{% if object %}تعديل المتجر - {{ object.name }}{% else %}إضافة متجر جديد{% endif %} - لوحة التحكم
{% endblock %}

{% with page_title=object.name|default:'إضافة متجر جديد' %}
{% with form_title='بيانات المتجر' %}
{% with form_icon='store' %}
{% with back_url='/dashboard/stores/' %}
{% with submit_text='حفظ المتجر' %}

{% block form_content %}
<div class="row">
    <div class="col-md-8">
        {% include 'dashboard/components/forms/form_field.html' with field=form.name label='اسم المتجر' required=True %}
        {% include 'dashboard/components/forms/form_field.html' with field=form.description label='وصف المتجر' %}
        {% include 'dashboard/components/forms/form_field.html' with field=form.logo_url label='رابط شعار المتجر' %}
        <div class="row">
            <div class="col-md-6">
                {% include 'dashboard/components/forms/form_field.html' with field=form.city label='المدينة' %}
            </div>
            <div class="col-md-6">
                {% include 'dashboard/components/forms/form_field.html' with field=form.status label='حالة المتجر' %}
            </div>
        </div>
    </div>
    
    <div class="col-md-4">
        <div class="card">
            <div class="card-header">
                <h6 class="mb-0">إعدادات المتجر</h6>
            </div>
            <div class="card-body">
                {% include 'dashboard/components/forms/form_field.html' with field=form.owner label='مالك المتجر' required=True %}
                {% include 'dashboard/components/forms/form_field.html' with field=form.platform_category label='تصنيف المتجر' %}
                
                <div class="mt-3">
                    <h6 class="text-muted">معلومات إضافية</h6>
                    {% if object %}
                    <p><small><strong>عدد المنتجات:</strong> {{ object.product_count }}</small></p>
                    <p><small><strong>التقييم:</strong> {{ object.average_rating|floatformat:1 }}/5</small></p>
                    <p><small><strong>تاريخ الإنشاء:</strong> {{ object.created_at|date:"Y-m-d" }}</small></p>
                    {% else %}
                    <p><small class="text-muted">سيتم عرض الإحصائيات بعد إنشاء المتجر</small></p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% endwith %}
{% endwith %}
{% endwith %}
{% endwith %}
{% endwith %}
